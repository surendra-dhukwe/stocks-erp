<!DOCTYPE html>
<html>
<head>
<title>Stock Report</title>
<link rel="stylesheet" href="css/style.css">
</head>
<body>

<h2>Stock Report</h2>

<table id="reportTable">
<thead>
<tr>
<th>Code</th>
<th>Name</th>
<th>Stock Type</th>
<th>Bags</th>
</tr>
</thead>
<tbody></tbody>
</table>

<script>
fetch("http://localhost:3000/products/stock")
.then(res => res.json())
.then(data => {
  const table = document.querySelector("#reportTable tbody");
  data.forEach(item => {
    const row = table.insertRow();
    row.innerHTML = `
      <td>${item.code}</td>
      <td>${item.name}</td>
      <td>${item.stock_type}</td>
      <td class="${item.current_bags < 0 ? 'negative':''}">
        ${item.current_bags}
      </td>
    `;
  });
});
</script>

</body>
</html>